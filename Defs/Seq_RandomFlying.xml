<?xml version="1.0" encoding="utf-8"?>
<Defs>
  <Disco.SequenceDef ParentName="DSC_BDS">
    <defName>DSC_S_RandomFlying</defName>
    <actions>

      <!-- Clear -->
      <li>
        <type>Clear</type>
      </li>
      
      <!-- Add greyscale checker floor, add it to memory-->
      <li>
        <type>Add</type> <!-- Use Add because Start forces blend to Override -->
        <blend>Multiply</blend>
        <program>DSC_DP_Checkerboard_Grayscale</program>
        <addToMemory>true</addToMemory>
      </li>

      <!-- Change floor color, add a random line, wait until it ends, repeat -->
      <li>
        <type>Repeat</type>
        <times>15</times>
        <actions>
          <li>
            <type>TintMem</type> <!-- The greyscale floor is stored in memory -->
            <randomTint>true</randomTint>
          </li>
          <li>
            <type>Add</type>
            <chance>0.75</chance>
            <atBottom>true</atBottom>
            <blend>Add</blend>
            <randomProgramFrom>
              <li>DSC_DP_Ripple_BW_Out</li>
              <li>DSC_DP_Ripple_BW_In</li>
            </randomProgramFrom>
          </li>
          <li>
            <type>Add</type>
            <atBottom>true</atBottom>
            <blend>Add</blend>
            <randomProgramFrom>
              <li>DSC_DP_Line_BW_Hor</li>
              <li>DSC_DP_Line_BW_Vert</li>
              <li>DSC_DP_Line_BW_Hor_Back</li>
              <li>DSC_DP_Line_BW_Vert_Back</li>
              <li>DSC_DP_Line_BW_Diag</li>
              <li>DSC_DP_Line_BW_Diag_Back</li>
              <li>DSC_DP_Line_BW_Diag_Inv</li>
              <li>DSC_DP_Line_BW_Diag_Inv_Back</li>
            </randomProgramFrom>
          </li>
          <li>
            <type>WaitLast</type>
          </li>
        </actions>
      </li>

      <!-- Fade out then another little pause at the end -->
      <li>
        <type>Add</type>
        <program>DSC_DP_FadeOut</program>
      </li>
      <li>
        <type>WaitLast</type>
      </li>
      <li>
        <type>Wait</type>
        <ticks>30</ticks>
      </li>
    </actions>
  </Disco.SequenceDef>

</Defs>